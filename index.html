<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JJGAMEZ | Cool Math Edition</title>
    <style>
        :root {
            --bg: #0b111a;
            --header-bg: #161b22;
            --accent: #2ecc71; /* Cool Math Green */
            --card-bg: #1c2128;
            --text: #ffffff;
            --sub-text: #8b949e;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }

        body { background: var(--bg); color: var(--text); padding-bottom: 50px; }

        /* Brand Header */
        header {
            background: var(--header-bg);
            padding: 15px 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 3px solid var(--accent);
            position: sticky; top: 0; z-index: 100;
        }

        .logo { font-size: 2.2rem; font-weight: 900; color: var(--accent); letter-spacing: -2px; }

        /* Filter Bar */
        .nav-bar {
            background: #1c2128;
            padding: 10px 5%;
            display: flex;
            gap: 15px;
            overflow-x: auto;
            border-bottom: 1px solid #30363d;
        }

        .filter-btn {
            background: transparent;
            border: 1px solid var(--sub-text);
            color: var(--sub-text);
            padding: 6px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.85rem;
            white-space: nowrap;
            transition: 0.2s;
        }

        .filter-btn:hover, .filter-btn.active {
            background: var(--accent);
            color: #000;
            border-color: var(--accent);
            font-weight: bold;
        }

        /* Content Container */
        .container { padding: 20px 5%; }
        .section-header { 
            font-size: 1.5rem; 
            margin: 25px 0 15px; 
            display: flex; 
            align-items: center; 
            gap: 10px; 
        }
        .section-header::after { content: ""; flex: 1; height: 1px; background: #30363d; }

        /* Grid System */
        .game-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
            gap: 20px;
        }

        .game-card {
            background: var(--card-bg);
            border-radius: 10px;
            overflow: hidden;
            transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
            border: 1px solid transparent;
            text-align: center;
        }

        .game-card:hover {
            transform: scale(1.05);
            border-color: var(--accent);
            box-shadow: 0 0 20px rgba(46, 204, 113, 0.2);
        }

        .thumb-box {
            height: 110px;
            background: #0b111a;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
        }

        .info-box { padding: 12px; }
        .info-box h3 { font-size: 0.95rem; margin-bottom: 4px; }
        .info-box p { font-size: 0.75rem; color: var(--accent); text-transform: uppercase; font-weight: bold; }

        /* Fullscreen Overlay */
        #player {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; display: none; flex-direction: column; z-index: 2000;
        }

        .player-bar { background: #161b22; padding: 15px 5%; display: flex; justify-content: space-between; align-items: center; }
        iframe { flex-grow: 1; border: none; background: #fff; }
        .exit-btn { background: #ff4757; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; font-weight: bold; }

        .hidden { display: none !important; }
    </style>
</head>
<body>

    <header>
        <div class="logo">JJ<span style="color:white">GAMEZ</span></div>
        <input type="text" id="search" placeholder="Search for a game..." oninput="search()" 
               style="background:#0b111a; border:1px solid #30363d; color:white; padding:10px 20px; border-radius:20px; width: 280px;">
    </header>

    <div class="nav-bar">
        <button class="filter-btn active" onclick="filter('All')">All Games</button>
        <button class="filter-btn" onclick="filter('Logic')">Logic</button>
        <button class="filter-btn" onclick="filter('Strategy')">Strategy</button>
        <button class="filter-btn" onclick="filter('Skill')">Skill</button>
        <button class="filter-btn" onclick="filter('Numbers')">Numbers</button>
    </div>

    <div class="container">
        <div id="recentContainer" class="hidden">
            <h2 class="section-header">Recently Played</h2>
            <div id="recentGrid" class="game-grid"></div>
        </div>

        <h2 class="section-header">Trending Now</h2>
        <div id="mainGrid" class="game-grid"></div>
    </div>

    <div id="player">
        <div class="player-bar">
            <h2 id="playTitle">Game Title</h2>
            <button class="exit-btn" onclick="stop()">EXIT GAME</button>
        </div>
        <iframe id="frame" src=""></iframe>
    </div>

    <script>
        const library = [
            { id: 1, title: "2048", cat: "Numbers", url: "https://play2048.co/", icon: "ðŸ”¢" },
            { id: 2, title: "Hextris", cat: "Skill", url: "https://hextris.io/", icon: "ðŸ”·" },
            { id: 3, title: "Chess", cat: "Logic", url: "https://lichess.org/training/frame", icon: "â™Ÿï¸" },
            { id: 4, title: "Sudoku", cat: "Numbers", url: "https://sudoku.com/", icon: "âœï¸" },
            { id: 5, title: "A Dark Room", cat: "Strategy", url: "https://adarkroom.doublespeakgames.com/", icon: "ðŸ”¥" },
            { id: 6, title: "Vector Funk", cat: "Skill", url: "https://vectorfunk.com/", icon: "ðŸŽµ" },
            { id: 7, title: "Cookie Clicker", cat: "Skill", url: "https://orteil.dashnet.org/cookieclicker/", icon: "ðŸª" },
            { id: 8, title: "Doodle Jump", cat: "Skill", url: "https://en.games.it/embed/doodle-jump", icon: "ðŸ¸" },
            { id: 9, title: "Tetris", cat: "Logic", url: "https://tetris.com/play-tetris", icon: "ðŸ§±" },
            { id: 10, title: "Minesweeper", cat: "Logic", url: "https://minesweeperonline.com/", icon: "ðŸ’£" }
        ];

        let history = JSON.parse(localStorage.getItem('jj_recent')) || [];

        function draw(list, target) {
            const grid = document.getElementById(target);
            grid.innerHTML = list.map(g => `
                <div class="game-card" onclick="run(${g.id})">
                    <div class="thumb-box">${g.icon}</div>
                    <div class="info-box">
                        <h3>${g.title}</h3>
                        <p>${g.cat}</p>
                    </div>
                </div>
            `).join('');
        }

        function run(id) {
            const game = library.find(g => g.id === id);
            document.getElementById('playTitle').innerText = game.title;
            document.getElementById('frame').src = game.url;
            document.getElementById('player').style.display = 'flex';

            history = [game, ...history.filter(i => i.id !== id)].slice(0, 4);
            localStorage.setItem('jj_recent', JSON.stringify(history));
            refreshHistory();
        }

        function stop() {
            document.getElementById('player').style.display = 'none';
            document.getElementById('frame').src = '';
        }

        function filter(tag) {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.toggle('active', b.innerText === tag || (tag === 'All' && b.innerText === 'All Games')));
            const filtered = tag === 'All' ? library : library.filter(g => g.cat === tag);
            draw(filtered, 'mainGrid');
        }

        function search() {
            const val = document.getElementById('search').value.toLowerCase();
            const found = library.filter(g => g.title.toLowerCase().includes(val));
            draw(found, 'mainGrid');
        }

        function refreshHistory() {
            if (history.length > 0) {
                document.getElementById('recentContainer').classList.remove('hidden');
                draw(history, 'recentGrid');
            }
        }

        // Boot up
        draw(library, 'mainGrid');
        refreshHistory();
    </script>
</body>
</html>
